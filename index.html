<!DOCTYPE html>
<html>
<head>
    <title>Global Video Search</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #111; color: white; text-align: center; padding: 20px; }
        input { padding: 12px; width: 300px; border-radius: 5px; border: 1px solid #444; background: #222; color: white; }
        button { padding: 12px 20px; background: #ff0000; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        #results { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 30px; }
        .card { background: #222; border-radius: 10px; padding: 10px; border: 1px solid #333; text-align: left; }
        .card img { width: 100%; border-radius: 5px; height: 150px; object-fit: cover; }
        .card a { color: #3ea6ff; text-decoration: none; font-size: 14px; display: block; margin-top: 10px; }
    </style>
</head>
<body>

    <h1>Video Search Engine</h1>
    <input type="text" id="q" placeholder="Search for any video...">
    <button onclick="doSearch()">Search</button>

    <div id="results"></div>

    <script>
        // YOUR KEYS
        const API_KEY = "AIzaSyDk9i3e5ToWRfg77EjrQanaF40Rle4zmrg";
        const CX_ID = "a35763810efd745c8"; 

        async function doSearch() {
            const query = document.getElementById('q').value;
            const container = document.getElementById('results');
            container.innerHTML = "Searching...";

            // This URL searches the web but filters for video content
            const url = `https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CX_ID}&q=${query}&searchType=video`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                if (data.error) {
                    container.innerHTML = `<div style="color:yellow; border:1px solid yellow; padding:10px;">
                        <strong>API Error:</strong> ${data.error.message}<br><br>
                        <em>Fix: Go to Google Cloud Console and click "Enable" on the <strong>Custom Search API</strong>.</em>
                    </div>`;
                    return;
                }

                container.innerHTML = ""; 

                if (data.items) {
                    data.items.forEach(item => {
                        const thumb = item.pagemap?.cse_image?.[0]?.src || 'https://via.placeholder.com/300x150?text=Video';
                        container.innerHTML += `
                            <div class="card">
                                <img src="${thumb}">
                                <a href="${item.link}" target="_blank">${item.title}</a>
                                <small style="color:#777">${item.displayLink}</small>
                            </div>
                        `;
                    });
                } else {
                    container.innerHTML = "No results found. Try adding 'youtube.com' to your Sites to Search in the Google Dashboard.";
                }
            } catch (err) {
                container.innerHTML = "Error connecting to Google.";
            }
        }
    </script>
</body>
</html>
